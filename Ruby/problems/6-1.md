# 問題6-1: reduce/injectでの集計

## 課題内容

`reduce`（別名 `inject`）メソッドを使って、配列の要素を1つの値にまとめる方法を学びましょう。これは集計処理で非常に強力なメソッドです。

### 要件

以下の3つのメソッドを実装してください：

1. **`calculate_total(numbers)`**
   - 数値配列の合計を計算
   - `reduce` を使って実装
   - ブロックを使った基本形

2. **`calculate_product(numbers)`**
   - 数値配列の積（全ての数を掛け合わせた値）を計算
   - `reduce` を使って実装
   - 初期値を指定する形式

3. **`group_by_length(words)`**
   - 文字列配列を文字数でグループ化したハッシュを返す
   - `reduce` を使ってハッシュを構築
   - 例: `["a", "bb", "ccc", "dd"]` → `{ 1 => ["a"], 2 => ["bb", "dd"], 3 => ["ccc"] }`

### テストケース
```ruby
# calculate_total のテスト
p calculate_total([1, 2, 3, 4, 5])
# => 15

p calculate_total([10, 20, 30])
# => 60

p calculate_total([])
# => 0

# calculate_product のテスト
p calculate_product([2, 3, 4])
# => 24  (2 * 3 * 4)

p calculate_product([5, 5])
# => 25

p calculate_product([1, 2, 3, 4, 5])
# => 120

# group_by_length のテスト
p group_by_length(["a", "bb", "ccc", "dd"])
# => { 1 => ["a"], 2 => ["bb", "dd"], 3 => ["ccc"] }

p group_by_length(["hello", "hi", "hey", "world"])
# => { 5 => ["hello", "world"], 2 => ["hi"], 3 => ["hey"] }

p group_by_length([])
# => {}
```

### ヒント
- **reduce の基本形**:
  ```ruby
  array.reduce(initial_value) do |accumulator, element|
    # accumulator: 累積値
    # element: 現在の要素
    # ブロックの戻り値が次の accumulator になる
  end
  ```

- **reduce の動作例**:
  ```ruby
  [1, 2, 3, 4].reduce(0) do |sum, n|
    sum + n
  end
  # 1回目: sum=0, n=1 → 0+1=1
  # 2回目: sum=1, n=2 → 1+2=3
  # 3回目: sum=3, n=3 → 3+3=6
  # 4回目: sum=6, n=4 → 6+4=10
  # => 10
  ```

- **ハッシュの操作**:
  ```ruby
  hash[key] ||= []  # キーが存在しなければ空配列を作成
  hash[key] << value  # 配列に値を追加
  ```

### 学習ポイント
この問題を通して以下を学びます：
- `reduce` / `inject` の基本的な使い方
- アキュムレータ（累積値）の概念
- 初期値の指定方法
- `reduce` でハッシュを構築する方法
- 合計、積、グループ化などの集計パターン

---

それでは実装してみてください！3つのメソッドすべてを書いてください。